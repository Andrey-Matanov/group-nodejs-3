<div class="container">
    <div>
        <form action="/" method="POST" class="tasks__add">
            <input type="text" name="title" placeholder="Введите задачу">
            <input type="submit" name="save" value="Добавить">
        </form>
    </div>
    <div class="tasks">
        {{#each tasks}}
            <div class="task">
                <input type="checkbox" value="">
                <p class="{{#if this.complited}} task_complite {{/if}}">{{this.title}}</p>
                <div class="tasks__control">
                    <a href="" class="control edit">e</a>
                    <a href="" class="control delete" data-id="{{this._id}}">x</a>
                </div>
            </div>
        {{/each}}
    </div>
</div>

<script>
    const deleteElem = document.querySelectorAll(".delete");
    deleteElem.forEach( elem => {
        elem.addEventListener('click', event => {
            event.preventDefault()
            let response = fetch('/' + event.target.getAttribute('data-id'), {
                method: 'DELETE',
            });
            location.reload()
        })
    });
    
</script>